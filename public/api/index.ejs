var _SiteLayoutService;

function siteLayoutService(opts) {
  opts.headerHtmlFragment = '<%-currHost%>/html/header.html';
  opts.footerHtmlFragment = '<%-currHost%>/html/footer.html';
  _SiteLayoutService = opts;

  <% include require.js %>
    require.config({
      baseUrl: "<%-currHost%>/js"
    });
  require(["<%-jsFiles%>"], function() {
    <% include jquery.js %>
      $.noConflict();
    jQuery(document).ready(function($) {
      $.get(opts.headerHtmlFragment, function(data) {
        $("body").prepend(data);
      });
      $.get(opts.footerHtmlFragment, function(data) {
        $("body").append(data);
      });

      // download css
      <% cssFiles.forEach(function(f) { %>
        $('head').append('<link rel="stylesheet" href="<%=f%>">'); <%
      }) %>
    });
  });
};